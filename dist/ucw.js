!function(){"use strict";class t{waitForReady(t){window.UC_UI&&window.UC_UI.isInitialized()?t():window.addEventListener("UC_UI_INITIALIZED",(function(e){t()}))}isReady(){return window.UC_UI&&window.UC_UI.isInitialized()}setConsent(t){if(!this.isReady())throw new Error("Usercentrics CMP is not ready!");window.UC_UI.acceptService(t)}getConsent(t){}}class e extends class{constructor(t){this.el=t,this.dimensions=this.el.getBoundingClientRect(),this.ucId=this.el.getAttribute("data-uc-id")}getEmbeddingText(){return"This external content may collect data about your activity. Click the button below to show the content."}getEmbedding(){return`\n            <img class="uc-widget-background" src="${this.getBackground()}"/>\n            <div class="uc-widget-embedding">\n                <div class="uc-widget-text">${this.getEmbeddingText()}</div>\n                <div class="uc-widget-control"><button class="uc-widget-accept">Activate</button></div>\n            </div>\n        `}getBackground(){return"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}activate(){(new t).setConsent(this.ucId)}render(){}}{activate(){super.activate();const t=this.el;if(t){const e=t.getAttribute("data-src");t.setAttribute("data-src",null),this.container.parentElement.replaceChild(t,this.container),window.setTimeout((()=>{t.setAttribute("src",e)}),0)}}render(){const t=document.createElement("div");t.innerHTML=this.getEmbedding(),t.setAttribute("class","uc-widget-container"),this.el.replaceWith(t),t.getElementsByClassName("uc-widget-accept")[0].addEventListener("click",this.activate.bind(this)),this.container=t}}class i{constructor(t){this.url=t;const e=t.split("/");this._protocol=e.shift(),e.shift(),this._host=e.shift();const i=e.join("/").split(/[?#]/);this._pathname=i[0]}get host(){return this._host}get protocol(){return this._protocol}get pathname(){return this._pathname}}class s extends e{getBackground(){const t=this.el.getAttribute("data-src");if(!t)return super.getBackground();try{const e=new i(t);return`https://privacy-proxy-server.usercentrics.eu/video/youtube/${e.pathname.split("/").pop()}-poster-image`}catch(t){return super.getBackground()}}}class n{static create(t){try{const n=new i(t.getAttribute("data-src")).host;t.tagName.toLowerCase();return/\.youtube(-nocookie)\./.test(n)?new s(t):new e(t)}catch(i){return new e(t)}}}!function(){const t=document.getElementsByClassName("uc-widget");for(const e of t){n.create(e).render()}}()}();
